# Дневник разработки

### 20241214 11:44
Что-то мысли плохо собираются. Хотел начать вновь писать дневник и делать разработку варианта soran1957 еще вчера,
но целый день до глубокой ночи пришлось заниматься ремонтом отопления в доме...

Итак, я пытаюсь воспроизвести построение старых лет (2009-2011). Сначала сделал html-макет. Он работает, поместил его в 
Layout, теперь надо наладить элементы картины. Первое - присоединение к данным и их использование. Попробую ограничиться 
технологиями Pages. Заведу сервис данных такой же, как и ранее, потом буду вычленять компоненты.

Сначала я подсоединил базу данных стандартными средствами, т.е. через Factograph.Data. Теперь сделаю визуализацию фотографий.
Раньше я это делал через специаилизрованный контроллер, но в последнем эксперименте, выполнишл это "напрямую", т.е. через 
обработчика
app.MapGet("/docs", Soran1957.ShowDocs.CreateMime);

Возможно, это более эффективно, но вернусь к контроллеру, тем более, сервисы Middleware удобнее подключать через контроллер или
через страницы Page. Запрос должен выглядеть как-то так:
https://localhost:54460/docs/GetImage?u=iiss://Cassette_20211014@iis.nsk.su/0001/0001/0008&s=normal

Начало положено, фотку получил. Теперь есть дефолтная страница.

### 20241215 10:56
Следующий шаг - разбить страницу на фон, основное тело и секции. Попробую сделать центральное тело и правую боковую секцию.

https://localhost:7177/Home/PublicuemCommon/soran1957styles/img/logo2.gif

### 20241228 05:15
Я немножко запутался в разработке, но кажется, уже понял как надо делать. Видимо надо сделать 
MVC-приложение с несколькими разделами и дизайнами. Но для начала, я проверил работоспособность 
некоторых старых компонентов. Неожиданность "подстерегла" где-то "снаружи" - создал проблемы github.
От и раньше что-то не всегда понятное делал, а теперь я вовсе не могу с ним справиться. Я пытаюсь выйти
на свои репозитории через сайт, но при авторизации говорит, что 
"Enable 2FA now. You'll be able to continue on with your work right after.". А при попытке сделать 2-факторность
через sms, не дает кода России, как возможного кода страны. И Казахстана тоже... Получается, что я могу 
использовать гитхаб только в режиме чтения уже записанных решений. Придется что-то делать, надо спрашивать
молодых.

Возвращаюсь к разработке. Когда я преодолел некоторые проблемы предыдущих решений по CManager'а, я решил 
заняться выправлением кассет через CassConsoleApp. Оказалось, что там не все сделано и пришлось потратить
усилия (и время) на то, чтобы что-то заработало. Приложение умеет читать группы кассет, используя обычный 
конфигуратор, умеет нормализовывать кассеты - это когда заменяются нестандартные элементы iisstore и умеет
работать по улучшению мультимедиа документов - заменять в оригиналах tiff на jpeg, делать новые превьюшки
фотографий и обрабатывать видео путем превращения его в более экономные форматы и рамеры. Все эти 
функциональные "богатства" я еще не проверил, но что-то уже начало работать. Далее, я попытался сделать 
кассету, которую очевидно надо перерабатывать. Чтобы там были tiff'ы и видео. Все уже подзабыл, так что 
потратил кое-какое время. Выяснилось, что "нормализованные" кассеты не воспринимаются правильно CManager'ом.
С этим пока можно жить, но все же придется этот момент преодолевать. 

Потом я попробовал поработать с тестовой кассетой через MagBlazor. Опять же пришлось кое-что вспоминать, 
тратить на это время. Заодно, выявляются некоторые ошибки или неточности. В частности:

Ошибка в MagBlazor: иногда не удается выполнить поиск по строковому образцу. Просто ничего не находит. 
Если перезагрузить страницу, поиск "возвращается". 

Я остановился на проверке работы CassConsoleApp. Попробую продолжить. 




еще не про